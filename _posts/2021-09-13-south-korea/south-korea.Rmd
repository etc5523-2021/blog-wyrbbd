---
title: "COVID-19 in South Korea"
description: |
  COVID-19 situation in Korea
author:
  - name: Yiru Wang
  - date: 09-13-2021
categories:
  - Covid-19
  - Vaccines
output:
  distill::distill_article:
    self_contained: false
    toc: true
    toc_float: true
    code_folding: true
    includes:
       in_header: heading.html
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(scipen=200)
library(tidyverse)
library(gganimate)
library(plotly)
library(grid)
library(lubridate)
library(dplyr)
library(kableExtra)
```

# Introduction And Motivation

Korea, or the Korean peninsula, is an Asian country. Since 1945 it has been divided into two parts, which soon became two sovereign states: Korea and South Korea. South Korea consists of the Korean peninsula, the island of Jeju and several small islands off the peninsula. It is bordered by China to the northwest and Russia to the northeast. It is separated from Japan through to the east by the Korean Strait and the Sea of Japan.(Wikipedia contributors, 2021)

China, Japan and Korea are often mentioned together. As a Chinese, I am curious about the development of the epidemic in neighbouring countries, so let's explore together next.

# Data description

In this blog, I will use one dataset, `owid-covid-data.csv` to explore the development of covid-19 in Russia. This data from [our world data website](https://ourworldindata.org/explorers/coronavirus-data-explorer).

The `owid-covid-data.csv` shows the daily development of new coronary pneumonia worldwide, including cases, deaths, vaccine numbers and other relevant data. 

```{r}
world_covid19 <- readr::read_csv('https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv')
world1_covid19<- world_covid19%>%
  select("iso_code","location","date","total_cases","new_cases","new_cases_smoothed","total_cases_per_million","total_deaths","new_deaths","new_deaths_smoothed","total_tests","new_tests_smoothed","total_tests_per_thousand","total_vaccinations","new_vaccinations_smoothed","people_fully_vaccinated")%>%
  filter(date == '2020-01-31'|date =='2020-02-28'|date =='2020-03-31'|date =='2020-04-30'|date =='2020-05-31'|date =='2020-06-30'|date =='2020-07-31'|date =='2020-08-31'|date =='2020-09-30'|date =='2020-10-31'|date =='2020-11-30'|date =='2020-12-31'|date =='2021-01-31'|date =='2021-02-28'|date =='2021-03-31'|date =='2021-04-30'|date =='2021-05-31'|date =='2021-06-30'|date =='2021-07-31'|date =='2021-08-31')%>%
  filter(!location == "World")%>%
  filter(!location == "Asia")%>%
  filter(!location == "Europe")%>%
  filter(!location == "North America")%>%
  filter(!location == "South America")%>%
  filter(!location == "European Union")%>%
  mutate(date = as.character(date))%>%
  mutate(total_cases = as.integer(total_cases))
```

```{r}
description <- data.frame(Variable = c("iso_code","location","date","total_cases","total_deaths","total_tests","total_vaccinations","people_fully_vaccinated"),
                          Class = c("character","character","date", "double", "double", "double","double","double"),
                          Description = c("	ISO 3166-1 alpha-3 – three-letter country codes","Geographical location","Date of observation","Total confirmed cases of COVID-19","Total deaths attributed to COVID-19","Total tests for COVID-19","Total number of COVID-19 vaccination doses administered","Total number of people who received all doses prescribed by the vaccination protocol"))
 knitr::kable(description, booktabs = TRUE,
  caption = "Detail of each variable")%>% 
  kable_styling(bootstrap_options = c("striped", "hover"))
```

# Data stories

## Outbreak status in Asia and Korea

```{r}
fig <- world1_covid19 %>%
  plot_ly(frame = ~date, 
          type='choropleth', 
          locations=world1_covid19$iso_code,   
          z=world1_covid19$total_cases, 
            zmin = 0,
            zmax = 500000,
            text=world1_covid19$location, 
            color= ~'tolal_cases',
            colorscale = "Electric")%>%
  layout(geo = list(scope = 'asia'),title = "Number of confirmed cases of New Coronary Pneumonia in Asia")
fig
```

```{r}
fig2 <- world1_covid19 %>%
  plot_ly(frame = ~date, 
          type='choropleth', 
          locations=world1_covid19$iso_code,   
          z=world1_covid19$total_deaths, 
            zmin = 0,
            zmax = 10000,
            text=world1_covid19$location, 
            color= ~'tolal_deaths',
            colorscale = "Electric")%>%
  layout(geo = list(scope = 'asia'),title = "Deaths from New Coronary Pneumonia in Asia")
fig2
```

```{r}
korea<-world_covid19%>%
  filter(location == "South Korea")%>%
  filter(!is.na(total_cases))
```

```{r}
ggplotly(korea%>%
  ggplot(aes(date,total_cases))+
    geom_col(fill = "violet")+
  geom_line(color = "purple")+
  ggtitle("Daily Case Change in Korea")+
   theme(panel.background = element_rect(fill ="#FFE4E1")) )
  
```

```{r}
ggplotly(korea%>%
  ggplot(aes(date,total_deaths))+
    geom_col(fill = "powderblue")+
  geom_line(color = "darkcyan")+
  ggtitle("Daily Case Change in Korea")+
   theme(panel.background = element_rect(fill ="#FFE4E1")))
```


## Covid-19 test and vaccination status in Korea

```{r}
ggplotly(korea %>%
  filter(!is.na(total_tests))%>%
  ggplot()+
  geom_line(aes(date,total_tests),color = "skyblue")+
   theme(panel.background = element_rect(fill ="#FFE4E1")))
```

```{r}
ggplotly(korea %>%
  ggplot()+
  geom_area(aes(date,people_vaccinated),fill = "#CCCCFF")+
  geom_area(aes(date,people_fully_vaccinated),fill = "#9F88FF")+
  geom_line(aes(date,people_vaccinated),color = "#9999FF")+
  geom_line(aes(date,people_fully_vaccinated),color = "#9955FF")+
   theme(panel.background = element_rect(fill ="#FFE4E1")))
```

# Reference
## Textual references

Wikipedia contributors. (2021, September 14). Korea. Wikipedia. https://en.wikipedia.org/wiki/Korea

## Package

C. Sievert. Interactive Web-Based Data Visualization with R, plotly, and shiny. Chapman and
  Hall/CRC Florida, 2020.
  
Garrett Grolemund, Hadley Wickham (2011). Dates and Times Made Easy with lubridate. Journal of
  Statistical Software, 40(3), 1-25. URL https://www.jstatsoft.org/v40/i03/.

Hadley Wickham, Romain François, Lionel Henry and Kirill Müller (2021). dplyr: A Grammar of
  Data Manipulation. R package version 1.0.7. https://CRAN.R-project.org/package=dplyr

Hao Zhu (2021). kableExtra: Construct Complex Table with 'kable' and Pipe Syntax. R package
  version 1.3.4. https://CRAN.R-project.org/package=kableExtra
  
R Core Team (2021). R: A language and environment for statistical computing. R Foundation for
  Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.
  
Thomas Lin Pedersen and David Robinson (2020). gganimate: A Grammar of Animated Graphics. R
  package version 1.0.7. https://CRAN.R-project.org/package=gganimate
  
Wickham et al., (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43),
  1686, https://doi.org/10.21105/joss.01686

## Data source

Our World in Data. 2021. COVID-19 Data Explorer. [online] Available at: <https://ourworldindata.org/explorers/coronavirus-data-explorer> [Accessed 10 September 2021].
